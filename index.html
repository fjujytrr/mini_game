<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, user-scalable=no" />
<title>Hide & Seek ‚Äî Premium Emoji</title>
<style>
/* --- –°–õ–ï–ì–ö–ê –°–í–ï–¢–õ–ï–ï –§–û–ù –ò–ì–†–´ --- */
:root{
  --accent-cyan: #00D8FF;
  --birch: #EDE4C8; /* –±–µ—Ä–µ–∑–æ–≤—ã–π —Ü–≤–µ—Ç –¥–ª—è —Ü–µ–Ω –∏ Profit/hr */
  --purple-frame: #7a4bff;
}
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  font-family: 'Inter', sans-serif;
  background: linear-gradient(120deg, #3b2a7a, #8aa7ff);
  background-size: 200% 200%;
  animation: gradientBG 15s ease infinite;
  overflow: hidden;
  color: #ffffff;
}
@keyframes gradientBG {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}
body {
  display: flex;
  flex-direction: column;
  align-items: center;
  min-height: 100vh;
}

/* Header + panels */
header {
  width: 95%;
  margin: 15px 0;
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: rgba(0, 0, 0, 0.18);
  border-radius: 12px;
  padding: 10px;
  backdrop-filter: blur(6px);
  box-shadow: 0 6px 30px rgba(0,0,0,0.25);
}
.level-bar {
  display: flex;
  gap: 6px;
  background: rgba(0, 0, 0, 0.12);
  padding: 6px 10px;
  border-radius: 12px;
  flex: 1;
  justify-content: space-between;
}
.level {
  flex: 1;
  text-align: center;
  padding: 6px 0;
  font-size: 14px;
  font-weight: 700;
  color: #eee;
  border-radius: 8px;
  background: rgba(255, 255, 255, 0.04);
  transition: 0.5s;
  cursor: pointer;
}
.level.active {
  background: var(--accent-cyan);
  color: #000;
  box-shadow: 0 0 8px var(--accent-cyan);
}
.coin-panel {
  display: flex;
  align-items: center;
  gap: 10px;
  background: linear-gradient(90deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
  padding: 8px 12px;
  border-radius: 16px;
  box-shadow: 0 6px 20px rgba(0,216,255,0.08);
}
/* –õ–æ–≥–æ—Ç–∏–ø –ø–µ—Ä–µ–¥ –±–∞–ª–∞–Ω—Å–æ–º */
.coin-panel .coin-logo {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  object-fit: cover;
  border: 3px solid var(--purple-frame);
  box-shadow: 0 6px 18px rgba(122,75,255,0.18);
  background: #ffffff;
}
.coin-panel .val {
  font-weight: 700;
  font-size: 18px;
  color: var(--accent-cyan);
}
.coin-panel .settings-btn {
  background: rgba(0,0,0,0.18);
  border: 1px solid rgba(255,255,255,0.06);
  padding: 8px 10px;
  border-radius: 10px;
  cursor: pointer;
  color: #fff;
  font-weight:700;
}
.coin-panel .settings-btn:hover { transform: scale(1.04); }

/* House / rooms */
.house {
  position: relative;
  width: 95%;
  max-width: 500px;
  margin: 20px 0;
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  grid-template-rows: repeat(4, 1fr);
  gap: 12px;
}
.room {
  background: rgba(255, 255, 255, 0.06);
  border-radius: 14px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 28px;
  color: #fff;
  cursor: pointer;
  transition: transform 0.3s, box-shadow 0.3s;
  position: relative;
  border: 2px solid rgba(255, 255, 255, 0.14);
}
.room:hover {
  transform: scale(1.05);
  box-shadow: 0 0 18px rgba(0,216,255,0.14);
}
.room.selected {
  border-color: var(--accent-cyan);
  box-shadow: 0 0 12px var(--accent-cyan);
}
.room.found {
  border-color: #FF0054;
  box-shadow: 0 0 12px #FF0054;
  animation: foundAnim 1s ease;
}
.room.safe {
  border-color: #39FF14;
  box-shadow: 0 0 12px #39FF14;
  animation: safeAnim 0.8s ease;
}
.room.highlight {
  box-shadow: 0 0 22px 4px var(--accent-cyan);
  transition: box-shadow 0.3s;
}
@keyframes foundAnim {
  0% { transform: scale(1); }
  50% { transform: rotate(10deg) scale(1.15); }
  100% { transform: scale(1); }
}
@keyframes safeAnim {
  0% { transform: scale(1); }
  50% { transform: rotate(-10deg) scale(0.95); }
  100% { transform: scale(1); }
}

/* Controls */
.controls {
  width: 90%;
  display: flex;
  justify-content: space-between;
  margin-bottom: 15px;
}
button {
  flex: 1;
  margin: 0 5px;
  padding: 14px;
  font-size: 20px;
  border: none;
  border-radius: 12px;
  cursor: pointer;
  color: #000;
  background: var(--accent-cyan);
  box-shadow: 0 4px 12px rgba(0,216,255,0.25);
  transition: transform 0.2s, box-shadow 0.2s;
}
button:active {
  transform: scale(0.98);
  box-shadow: 0 2px 6px rgba(0,216,255,0.18);
}
button.secondary {
  background: rgba(0,0,0,0.36);
  color: #fff;
  border: 1px solid rgba(255,255,255,0.06);
  box-shadow: 0 3px 8px rgba(0,216,255,0.12);
}

/* Bottom menu */
.bottom-menu {
  position: fixed;
  bottom: 30px;
  left: 50%;
  transform: translateX(-50%);
  width: 90%;
  max-width: 480px;
  display: flex;
  justify-content: space-around;
  gap: 8px;
  background: rgba(0, 0, 0, 0.18);
  padding: 6px 0;
  border-radius: 16px;
  backdrop-filter: blur(5px);
  box-shadow: 0 0 12px rgba(0,216,255,0.18);
}
.bottom-menu button {
  background: transparent;
  color: #fff;
  font-size: 22px;
  transition: transform 0.2s;
}
.bottom-menu button:hover {
  transform: scale(1.16);
  color: var(--accent-cyan);
}

/* Upgrade panel - hidden by default */
.upgrade-panel {
  display: none;
  gap: 12px;
  margin: 10px 0;
  overflow-x: auto;
  padding: 10px;
  width: 95%;
  justify-content: center;
  align-items: stretch;
}
.upgrade {
  flex: 0 0 auto;
  background: rgba(255,255,255,0.06);
  padding: 12px;
  border-radius: 14px;
  text-align: center;
  min-width: 220px;
  cursor: pointer;
  box-shadow: 0 2px 6px rgba(0,216,255,0.08);
}
.upgrade h3 {
  margin: 0 0 6px;
  font-size: 16px;
  color: var(--accent-cyan);
}
.upgrade p {
  margin: 0;
  font-size: 14px;
  color: #eee;
}
/* –¶–µ–Ω–∞ –∞–ø–≥—Ä–µ–π–¥–∞ ‚Äî —Å–¥–µ–ª–∞–Ω–∞ "–±–µ—Ä–µ–∑–æ–≤–æ–π" */
.upgrade .price {
  margin-top: 6px;
  font-weight: 700;
  color: var(--birch);
}
.upgrade .timer {
  margin-top: 4px;
  font-size: 12px;
  color: var(--accent-cyan);
}

/* Mining info + visible miners panel */
.mining-info {
  margin: 10px 0;
  padding: 10px 12px;
  background: rgba(255,255,255,0.04);
  border-radius: 14px;
  width: 95%;
  text-align: center;
  box-shadow: 0 2px 6px rgba(0,216,255,0.06);
}

/* Visible miners panel - main screen */
.miners-panel {
  width: 95%;
  max-width: 900px;
  display: flex;
  gap: 12px;
  padding: 10px;
  overflow-x: auto;
  align-items: flex-start;
  margin-bottom: 12px;
  background: rgba(255,255,255,0.03);
  border-radius: 12px;
  box-shadow: 0 2px 6px rgba(0,216,255,0.06);
}
.miners-panel .miner-card {
  background: rgba(255,255,255,0.04);
  color: #fff;
  border-radius: 14px;
  padding: 12px;
  min-width: 160px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  box-shadow: 0 3px 10px rgba(0,0,0,0.2);
  cursor: pointer;
  transition: transform 0.25s, box-shadow 0.25s;
}
/* –õ–æ–≥–æ—Ç–∏–ø –≤ –∫–∞—Ä—Ç–æ—á–∫–µ –º–∞–π–Ω–µ—Ä–∞ */
.miners-panel .miner-card .card-logo,
#miningShop .miner-card .card-logo {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  object-fit: cover;
  border: 2px solid var(--purple-frame);
  background: #fff;
  box-shadow: 0 6px 18px rgba(122,75,255,0.12);
}
.miners-panel .miner-card:hover {
  transform: translateY(-6px) scale(1.03);
  box-shadow: 0 8px 20px rgba(0,216,255,0.06);
}

/* --- –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û –ú–ê–ô–ù–ò–ù–ì–ê (–ü–û–õ–ù–´–ô –≠–ö–†–ê–ù) --- */
#miningShop {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  transform: none;
  z-index: 900;
  background: linear-gradient(120deg, #3b2a7a, #8aa7ff);
  color: #fff;
  padding: 28px;
  box-sizing: border-box;
  overflow-y: auto;
  border: none;
}
#miningShop h2 {
  color: #ecf8ff;
  text-align: center;
  margin-bottom: 10px;
}
#miningShop .miners-container {
  display:flex;
  flex-wrap:wrap;
  gap:14px;
  justify-content:center;
  padding:8px 6px;
}
/* –∫–∞—Ä—Ç–æ—á–∫–∏ –º–∞–π–Ω–µ—Ä–æ–≤ –≤–Ω—É—Ç—Ä–∏ –º–æ–¥–∞–ª–∫–∏ */
#miningShop .miner-card {
  background: rgba(255,255,255,0.06);
  color: #fff;
  border-radius: 12px;
  padding: 12px;
  width: 180px;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:8px;
  box-shadow: 0 6px 18px rgba(0,0,0,0.18);
  cursor:pointer;
  transition: transform 0.2s, box-shadow 0.2s;
  border: 1px solid rgba(255,255,255,0.04);
}
#miningShop .miner-card:hover { transform: translateY(-6px); box-shadow: 0 12px 30px rgba(0,0,0,0.18); }
#miningShop .miner-card h3 { margin:0; color:#f0fbff; }
/* Profit/hr ‚Äî –±–µ—Ä–µ–∑–æ–≤—ã–π —Ü–≤–µ—Ç, –∫–∞–∫ –∏ —Ü–µ–Ω–∞ –∞–ø–≥—Ä–µ–π–¥–∞ */
#miningShop .miner-card .income,
.miners-panel .miner-card .income {
  color: var(--birch);
  font-weight: 700;
}
#miningShop .miner-card .bottom,
.miners-panel .miner-card .bottom {
  width:100%;
  display:flex;
  justify-content:space-between;
  font-weight:700;
  font-size:14px;
}

/* Buy confirm ‚Äî –ø–æ–ª–Ω—ã–π —ç–∫—Ä–∞–Ω */
#buyConfirm {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  transform: none;
  z-index: 1000;
  background: rgba(0,0,0,0.7);
  box-sizing: border-box;
  padding: 40px;
  overflow-y: auto;
}
#buyConfirm .confirm-box {
  max-width: 520px;
  margin: 40px auto;
  background: linear-gradient(120deg, rgba(0,0,0,0.6), rgba(0,0,0,0.72));
  border: 2px solid var(--accent-cyan);
  border-radius: 16px;
  padding: 20px;
  text-align: center;
  box-shadow: 0 0 20px var(--accent-cyan);
}
#buyConfirm.show { display:block; }
#buyConfirm p { color: #fff; margin: 8px 0; }
#buyConfirm button { margin: 10px 8px; flex: 1; padding: 8px; font-weight:700; background:var(--accent-cyan); color:#000; border:none; border-radius:8px; }

/* Info & profile windows ‚Äî —Ç–µ–ø–µ—Ä—å –æ—Ñ–æ—Ä–º–ª–µ–Ω—ã –∫–∞–∫ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω (–Ω–µ —á—ë—Ä–Ω—ã–µ) */
.window-fullscreen {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  transform: none;
  z-index: 800;
  background: linear-gradient(120deg, rgba(59,42,122,0.92), rgba(138,167,255,0.92));
  color: #fff;
  box-sizing: border-box;
  padding: 28px;
  overflow-y: auto;
}
.window-fullscreen .content {
  max-width: 720px;
  margin: 24px auto;
  border: 2px solid var(--accent-cyan);
  border-radius: 12px;
  padding: 16px;
  background: linear-gradient(180deg, rgba(0,0,0,0.24), rgba(0,0,0,0.12));
  box-shadow: 0 10px 40px rgba(0,0,0,0.35);
}
.window-fullscreen h2 { color: var(--accent-cyan); margin-bottom: 10px; }
.window-fullscreen ul { color: #e8f3ff; padding-left: 20px; }
.window-fullscreen ul li::before { content: "‚Ä¢ "; color: var(--accent-cyan); font-weight:600; }
.window-fullscreen button { width:100%; margin-top:12px; padding:12px; font-size:18px; border:none; border-radius:12px; background:var(--accent-cyan); color:#000; cursor:pointer; font-weight:700; }

/* Settings window: —Å—Ç–∏–ª—å –∫–∞–∫ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω (–ø–æ—Ö–æ–∂ –Ω–∞ –ø—Ä–æ—Ñ–∏–ª—å) */
#settingsWindow { display:none; }
#settingsWindow .content { text-align:left; }
.settings-row { display:flex; gap:10px; align-items:center; margin-top:8px; }
.lang-option { cursor:pointer; padding:8px 12px; border-radius:8px; background: rgba(255,255,255,0.04); border:1px solid rgba(255,255,255,0.03); }
.lang-option.active { background: var(--accent-cyan); color: #000; border-color: rgba(0,0,0,0.08); }

#profileWindow { }
#infoWindow { }

/* –ú–µ–ª–∫–∏–µ –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –ø—Ä–∞–≤–∫–∏ */
@media (max-width: 520px) {
  .coin-panel .coin-logo { width: 34px; height: 34px; border-width: 2px; }
  button { font-size: 18px; padding: 12px; }
  .miners-panel .miner-card { min-width: 140px; }
  #miningShop .miner-card { width: 46%; }
}
</style>
</head>
<body>
<header>
  <div class="level-bar">
    <div class="level" data-val="10000">10K</div>
    <div class="level" data-val="50000">50K</div>
    <div class="level" data-val="100000">100K</div>
    <div class="level" data-val="250000">250K</div>
    <div class="level" data-val="500000">500K</div>
    <div class="level" data-val="1000000">1M</div>
    <div class="level" data-val="5000000">5M</div>
  </div>
  <div class="coin-panel">
    <img class="coin-logo" src="logo.png" alt="Coin logo" />
    <div class="val" id="coinsVal">0</div>
    <!-- –ö–Ω–æ–ø–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ (–∑–∞–º–µ–Ω–∏–ª–∞ –º–µ—Å—Ç–æ –¥–ª—è "—Ä–µ–∫–æ—Ä–¥–∞") -->
    <button id="settingsBtn" class="settings-btn" aria-label="Settings">‚öô</button>
  </div>
</header>

<div class="house"></div>

<div class="controls">
  <button id="startBtn">üè†</button>
  <button class="secondary" id="resetBtn">üîç</button>
</div>

<!-- Upgrade panel: hidden initially -->
<div class="upgrade-panel" id="upgradePanel">
  <div class="upgrade" data-key="x2Prize" data-base-price="20000">
    <h3>x2 Prize / x2 Loss</h3>
    <p>Double rewards & penalties</p>
    <div class="price">20,000</div>
  </div>
  <div class="upgrade" data-key="check1" data-base-price="20000">
    <h3>Check 1 Room Only</h3>
    <p>Hunter checks 1 room only (1 min)</p>
    <div class="price">20,000</div>
    <div class="timer" id="check1Timer"></div>
  </div>
</div>

<div class="mining-info">
  <strong id="miningLabel">Mining Income:</strong> <span id="miningIncomeVal">0</span>/hr
</div>

<!-- Visible miners panel - shown on main screen by default -->
<div class="miners-panel" id="minersPanelVisible"></div>

<!-- Modal mining shop ‚Äî –ø–æ–ª–Ω—ã–π —ç–∫—Ä–∞–Ω -->
<div id="miningShop" aria-hidden="true" class="window-fullscreen">
  <h2 id="miningShopTitle">Mining Shop</h2>
  <div class="miners-container"></div>
  <button id="closeMiningShop" style="margin-top:12px;width:100%;padding:12px;font-size:18px;border:none;border-radius:12px;background:rgba(0,0,0,0.22);color:#fff;cursor:pointer;">Close</button>
</div>

<!-- Buy confirm -->
<div id="buyConfirm" aria-hidden="true">
  <div class="confirm-box">
    <p id="buyText"></p>
    <div style="display:flex;justify-content:center;">
      <button id="confirmBuy">Buy</button>
      <button id="cancelBuy">Cancel</button>
    </div>
  </div>
</div>

<!-- Info window -->
<div id="infoWindow" aria-hidden="true" class="window-fullscreen">
  <div class="content">
    <h2 id="infoTitle">How to Play</h2>
    <ul id="infoList">
      <li>Select a room and then click the üîç button to hunt.</li>
      <li>The hunter searches 2 random rooms (1 if "Check 1 Room" is active).</li>
      <li>If your room is found, you lose coins (shown in red).</li>
      <li>If you evade the hunt, you gain coins (shown in green).</li>
      <li>Buy upgrades or miners to improve your chances and income.</li>
      <li>Claim daily rewards and complete quests for bonus coins.</li>
    </ul>
    <button id="closeInfo">Close</button>
  </div>
</div>

<!-- Profile window -->
<div id="profileWindow" aria-hidden="true" class="window-fullscreen">
  <div class="content">
    <h2 id="profileTitle">Profile</h2>
    <div style="margin-bottom:16px;padding:16px;background:rgba(255,255,255,0.04);border-radius:12px;box-shadow:0 2px 6px rgba(0,0,0,0.08);">
      <h3 id="dailyTitle" style="margin-bottom:8px;font-size:18px;color:#ecf8ff">Daily Reward</h3>
      <p id="dailyText" style="margin-bottom:12px;color:#f0fbff">Get 30,000 coins once a day!</p>
      <button id="claimDaily" style="width:100%;padding:12px;font-size:16px;border:none;border-radius:12px;background:linear-gradient(90deg,var(--accent-cyan),#00A8FF);color:#000;cursor:pointer;font-weight:700;">Claim Daily</button>
      <p id="dailyStatus" style="margin-top:8px;color:var(--accent-cyan);font-weight:600;text-align:center;"></p>
    </div>
    <div style="margin-bottom:16px;padding:16px;background:rgba(255,255,255,0.04);border-radius:12px;box-shadow:0 2px 6px rgba(0,0,0,0.08);">
      <h3 id="questTitle" style="margin-bottom:8px;font-size:18px;color:#ecf8ff">Quest</h3>
      <p id="questText" style="margin-bottom:12px;color:#f0fbff">Subscribe to get bonus coins!</p>
      <button id="claimQuest" style="width:100%;padding:12px;font-size:16px;border:none;border-radius:12px;background:linear-gradient(90deg,var(--accent-cyan),#00A8FF);color:#000;cursor:pointer;font-weight:700;">Claim Quest</button>
      <p id="questStatus" style="margin-top:8px;color:var(--accent-cyan);font-weight:600;text-align:center;"></p>
    </div>
    <button id="closeProfile" style="width:100%;padding:14px;font-size:18px;border:none;border-radius:12px;background:linear-gradient(90deg,var(--accent-cyan),#00A8FF);color:#000;cursor:pointer;font-weight:700;">Close</button>
  </div>
</div>

<!-- Settings window -->
<div id="settingsWindow" aria-hidden="true" class="window-fullscreen">
  <div class="content">
    <h2 id="settingsTitle">Settings</h2>
    <div>
      <h3 id="langTitle">Language</h3>
      <div class="settings-row">
        <div id="langRu" class="lang-option">–†—É—Å—Å–∫–∏–π</div>
        <div id="langEn" class="lang-option">English</div>
      </div>
      <p id="langNote" style="margin-top:8px;color:#e8f3ff;font-size:13px;">Choose interface language. Changes apply immediately.</p>
    </div>
    <div style="margin-top:18px;">
      <button id="closeSettings">Close</button>
    </div>
  </div>
</div>

<div class="bottom-menu">
  <button id="infoBtn" class="secondary" aria-label="Info">‚Ñπ</button>
  <button id="shopBtn" class="secondary" aria-label="Shop">üõí</button>
  <button id="miningBtn" class="secondary" aria-label="Mining">‚õè</button>
  <button id="profileBtn" class="secondary" aria-label="Profile">üë§</button>
</div>

<script>
// --- –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è ‚Äî RU / EN
const translations = {
  ru: {
    pickRoomFirst: '–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–º–Ω–∞—Ç—É —Å–Ω–∞—á–∞–ª–∞!',
    notEnoughCoins: '–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–æ–Ω–µ—Ç!',
    buyConfirm: '–ö—É–ø–∏—Ç—å {name} –∑–∞ {price}?',
    buy: '–ö—É–ø–∏—Ç—å',
    cancel: '–û—Ç–º–µ–Ω–∞',
    howToPlayTitle: '–ö–∞–∫ –∏–≥—Ä–∞—Ç—å',
    infoList: [
      '–í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–º–Ω–∞—Ç—É, –∑–∞—Ç–µ–º –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É üîç –¥–ª—è –ø–æ–∏—Å–∫–∞.',
      '–û—Ö–æ—Ç–Ω–∏–∫ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç 2 —Å–ª—É—á–∞–π–Ω—ã–µ –∫–æ–º–Ω–∞—Ç—ã (1, –µ—Å–ª–∏ –∞–∫—Ç–∏–≤–µ–Ω "Check 1 Room").',
      '–ï—Å–ª–∏ –≤–∞—à—É –∫–æ–º–Ω–∞—Ç—É –Ω–∞—à–ª–∏ ‚Äî –≤—ã —Ç–µ—Ä—è–µ—Ç–µ –º–æ–Ω–µ—Ç—ã (–∫—Ä–∞—Å–Ω—ã–º).',
      '–ï—Å–ª–∏ –≤—ã —É–∫–ª–æ–Ω—è–µ—Ç–µ—Å—å ‚Äî –ø–æ–ª—É—á–∞–µ—Ç–µ –º–æ–Ω–µ—Ç—ã (–∑–µ–ª—ë–Ω—ã–º).',
      '–ü–æ–∫—É–ø–∞–π—Ç–µ –∞–ø–≥—Ä–µ–π–¥—ã –∏ –º–∞–π–Ω–µ—Ä–æ–≤ –¥–ª—è —É–≤–µ–ª–∏—á–µ–Ω–∏—è –¥–æ—Ö–æ–¥–∞ –∏ —à–∞–Ω—Å–æ–≤.',
      '–ó–∞–±–∏—Ä–∞–π—Ç–µ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –Ω–∞–≥—Ä–∞–¥—ã –∏ –≤—ã–ø–æ–ª–Ω—è–π—Ç–µ –∑–∞–¥–∞–Ω–∏—è –¥–ª—è –±–æ–Ω—É—Å–æ–≤.'
    ],
    miningIncome: '–î–æ—Ö–æ–¥ –º–∞–π–Ω–∏–Ω–≥–∞:',
    miningShopTitle: '–ú–∞–≥–∞–∑–∏–Ω –º–∞–π–Ω–∏–Ω–≥–∞',
    close: '–ó–∞–∫—Ä—ã—Ç—å',
    profileTitle: '–ü—Ä–æ—Ñ–∏–ª—å',
    dailyTitle: '–ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –Ω–∞–≥—Ä–∞–¥–∞',
    dailyText: '–ü–æ–ª—É—á–∏—Ç–µ 30 000 –º–æ–Ω–µ—Ç —Ä–∞–∑ –≤ –¥–µ–Ω—å!',
    claimDaily: '–ó–∞–±—Ä–∞—Ç—å',
    dailyAvailable: 'üí∞ –î–æ—Å—Ç—É–ø–Ω–æ!',
    nextIn: '–î–æ —Å–ª–µ–¥—É—é—â–µ–π: {h}—á {m}–º',
    questTitle: '–ó–∞–¥–∞–Ω–∏–µ',
    questText: '–ü–æ–¥–ø–∏—à–∏—Ç–µ—Å—å, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –±–æ–Ω—É—Å–Ω—ã–µ –º–æ–Ω–µ—Ç—ã!',
    claimQuest: '–í–∑—è—Ç—å –∑–∞–¥–∞–Ω–∏–µ',
    questAlready: '–ó–∞–¥–∞–Ω–∏–µ —É–∂–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ!',
    dailyAlready: '–ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –Ω–∞–≥—Ä–∞–¥–∞ —É–∂–µ –ø–æ–ª—É—á–µ–Ω–∞!',
    buyBtn: '–ö—É–ø–∏—Ç—å',
    cancelBtn: '–û—Ç–º–µ–Ω–∞',
    settingsTitle: '–ù–∞—Å—Ç—Ä–æ–π–∫–∏',
    langTitle: '–Ø–∑—ã–∫',
    langNote: '–í—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞. –ò–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è —Å—Ä–∞–∑—É.'
  },
  en: {
    pickRoomFirst: 'Pick a room first!',
    notEnoughCoins: 'Not enough coins!',
    buyConfirm: 'Buy {name} for {price}?',
    buy: 'Buy',
    cancel: 'Cancel',
    howToPlayTitle: 'How to Play',
    infoList: [
      'Select a room and then click the üîç button to hunt.',
      'The hunter searches 2 random rooms (1 if "Check 1 Room" is active).',
      'If your room is found, you lose coins (shown in red).',
      'If you evade the hunt, you gain coins (shown in green).',
      'Buy upgrades or miners to improve your chances and income.',
      'Claim daily rewards and complete quests for bonus coins.'
    ],
    miningIncome: 'Mining Income:',
    miningShopTitle: 'Mining Shop',
    close: 'Close',
    profileTitle: 'Profile',
    dailyTitle: 'Daily Reward',
    dailyText: 'Get 30,000 coins once a day!',
    claimDaily: 'Claim Daily',
    dailyAvailable: 'üí∞ Available!',
    nextIn: 'Next in {h}h {m}m',
    questTitle: 'Quest',
    questText: 'Subscribe to get bonus coins!',
    claimQuest: 'Claim Quest',
    questAlready: 'Quest already claimed!',
    dailyAlready: 'Daily reward already claimed!',
    buyBtn: 'Buy',
    cancelBtn: 'Cancel',
    settingsTitle: 'Settings',
    langTitle: 'Language',
    langNote: 'Choose interface language. Changes apply immediately.'
  }
};

let lang = localStorage.getItem('lang') || 'ru';
function t(key) {
  const val = translations[lang][key];
  return val === undefined ? '' : val;
}

function applyLanguage() {
  // Info window
  document.getElementById('infoTitle').textContent = translations[lang].howToPlayTitle;
  const list = document.getElementById('infoList');
  list.innerHTML = '';
  translations[lang].infoList.forEach(it => {
    const li = document.createElement('li'); li.textContent = it; list.appendChild(li);
  });
  document.getElementById('closeInfo').textContent = translations[lang].close;

  // Mining shop
  document.getElementById('miningShopTitle').textContent = translations[lang].miningShopTitle;
  document.getElementById('closeMiningShop').textContent = translations[lang].close;

  // Buy confirm buttons
  document.getElementById('confirmBuy').textContent = translations[lang].buyBtn || translations[lang].buy;
  document.getElementById('cancelBuy').textContent = translations[lang].cancelBtn || translations[lang].cancel;

  // Mining label
  document.getElementById('miningLabel').textContent = translations[lang].miningIncome;

  // Profile window
  document.getElementById('profileTitle').textContent = translations[lang].profileTitle;
  document.getElementById('dailyTitle').textContent = translations[lang].dailyTitle;
  document.getElementById('dailyText').textContent = translations[lang].dailyText;
  document.getElementById('claimDaily').textContent = translations[lang].claimDaily;
  document.getElementById('questTitle').textContent = translations[lang].questTitle;
  document.getElementById('questText').textContent = translations[lang].questText;
  document.getElementById('claimQuest').textContent = translations[lang].claimQuest;
  document.getElementById('closeProfile').textContent = translations[lang].close;

  // Settings
  document.getElementById('settingsTitle').textContent = translations[lang].settingsTitle;
  document.getElementById('langTitle').textContent = translations[lang].langTitle;
  document.getElementById('langNote').textContent = translations[lang].langNote;
  document.getElementById('closeSettings').textContent = translations[lang].close;

  updateDailyStatus();
  updateQuestStatus();
}

function setLang(l) {
  lang = l;
  localStorage.setItem('lang', l);
  // update UI language
  document.querySelectorAll('.lang-option').forEach(el => el.classList.remove('active'));
  document.getElementById(l === 'ru' ? 'langRu' : 'langEn').classList.add('active');
  applyLanguage();
}

// --- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–º–Ω–∞—Ç
const rooms = document.querySelector('.house');
for (let i = 0; i < 8; i++) {
  let d = document.createElement('div');
  d.className = 'room';
  d.dataset.idx = i;
  d.textContent = '+';
  rooms.appendChild(d);
}

let selectedRoom = null;
let coins = +localStorage.getItem('coins') || 0;
let maxCoins = +localStorage.getItem('maxCoins') || coins;
const coinsVal = document.getElementById('coinsVal');
let upgrades = JSON.parse(localStorage.getItem('upgrades')) || { x2Prize: 0, check1: 0 };
let check1Expire = +localStorage.getItem('check1Expire') || 0;
let roundInProgress = false;

// –î–∞–Ω–Ω—ã–µ –º–∞–π–Ω–µ—Ä–æ–≤
const minersData = [
  { n: "Miner 1", i: 500, p: 7000 },
  { n: "Miner 2", i: 1788, p: 12000 },
  { n: "Miner 3", i: 2358, p: 15000 },
  { n: "Miner 4", i: 3000, p: 20000 },
  { n: "Miner 5", i: 4500, p: 25000 },
  { n: "Miner 6", i: 5200, p: 30000 },
  { n: "Miner 7", i: 6100, p: 35000 },
  { n: "Miner 8", i: 7200, p: 40000 },
  { n: "Miner 9", i: 8500, p: 45000 },
  { n: "Miner 10", i: 9500, p: 50000 }
];
let minersState = JSON.parse(localStorage.getItem('minersState')) || minersData.map(_ => ({ count: 0 }));

const miningIncomeValEl = document.getElementById('miningIncomeVal');
const minersContainer = document.querySelector('.miners-container'); // for modal
const minersPanelVisible = document.getElementById('minersPanelVisible'); // visible main screen
const miningShop = document.getElementById('miningShop');
const buyConfirm = document.getElementById('buyConfirm');
const buyText = document.getElementById('buyText');
let pendingMiner = null;

// –£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —á–∏—Å–µ–ª
function format(n) {
  return n >= 1e9 ? (n/1e9).toFixed(1).replace(/\.0$/, '') + 'B' :
         n >= 1e6 ? (n/1e6).toFixed(1).replace(/\.0$/, '') + 'M' :
         n >= 1e3 ? (n/1e3).toFixed(1).replace(/\.0$/, '') + 'K' : n;
}

// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
function save() {
  localStorage.setItem('coins', coins);
  localStorage.setItem('maxCoins', maxCoins);
  localStorage.setItem('upgrades', JSON.stringify(upgrades));
  localStorage.setItem('check1Expire', check1Expire);
  localStorage.setItem('minersState', JSON.stringify(minersState));
  localStorage.setItem('lastTime', Date.now());
}

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—á—ë—Ç–∞ –º–æ–Ω–µ—Ç
function updCoins(v = 0) {
  coins += v;
  if (coins < 0) coins = 0;
  if (coins > maxCoins) maxCoins = coins;
  coinsVal.textContent = format(coins);
  updLv();
  updUpg();
  updIncome();
  save();
}

// –†–∞—Å—á—ë—Ç –¥–æ—Ö–æ–¥–∞ –≤ —á–∞—Å
function getIncome() {
  return minersState.reduce((sum, m, i) => {
    return sum + (m.count > 0 ? minersData[i].i * Math.pow(2, m.count - 1) : 0);
  }, 0);
}

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–æ—Ö–æ–¥–∞
function updIncome() {
  miningIncomeValEl.textContent = format(getIncome());
}

// –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ –æ—Ñ—Ñ–ª–∞–π–Ω-–¥–æ—Ö–æ–¥–∞
function addOfflineCoins() {
  const last = +localStorage.getItem('lastTime') || Date.now();
  const now = Date.now();
  const diff = (now - last) / 60000; // –º–∏–Ω—É—Ç—ã
  if (diff > 0) {
    updCoins(Math.floor(getIncome()/60 * diff));
  }
  localStorage.setItem('lastTime', now);
}
addOfflineCoins();
setInterval(() => {
  updCoins(Math.floor(getIncome() / 3600));
}, 1000);

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è (–æ—Ç–º–µ—Ç–∫–∏ –æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Å—É–º–º)
function updLv() {
  document.querySelectorAll('.level').forEach(l => {
    l.classList.toggle('active', maxCoins >= +l.dataset.val);
  });
}

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ü–µ–Ω –∞–ø–≥—Ä–µ–π–¥–æ–≤
function updUpg() {
  document.querySelectorAll('.upgrade').forEach(u => {
    let key = u.dataset.key;
    let base = +u.dataset.basePrice;
    let count = upgrades[key] || 0;
    let price = base * Math.pow(2, count);
    let priceEl = u.querySelector('.price');
    if (priceEl) priceEl.textContent = format(price);
  });
}

// –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∞–ø–≥—Ä–µ–π–¥
document.querySelectorAll('.upgrade').forEach(u => {
  u.onclick = () => {
    let key = u.dataset.key;
    let base = +u.dataset.basePrice;
    let count = upgrades[key] || 0;
    let price = base * Math.pow(2, count);
    if (coins >= price) {
      upgrades[key] = count + 1;
      updCoins(-price);
      if (key === "check1") {
        check1Expire = Date.now() + 60000; // 1 –º–∏–Ω—É—Ç–∞ –¥–µ–π—Å—Ç–≤–∏—è
      }
      save();
      updUpg();
    } else {
      alert(translations[lang].notEnoughCoins);
    }
  };
});

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–∞–π–º–µ—Ä–∞ –∞–ø–≥—Ä–µ–π–¥–∞ Check 1 Room
function updCheck() {
  const el = document.getElementById("check1Timer");
  if (check1Expire > Date.now()) {
    el.textContent = "‚è≥ " + Math.floor((check1Expire - Date.now())/1000) + "s";
  } else {
    el.textContent = "";
  }
}
setInterval(updCheck, 1000);

// –í—ã–±–æ—Ä –∫–æ–º–Ω–∞—Ç—ã
document.querySelectorAll('.room').forEach(r => {
  r.onclick = () => {
    if (roundInProgress) return;
    document.querySelectorAll('.room').forEach(x => x.classList.remove('selected'));
    r.classList.add('selected');
    selectedRoom = +r.dataset.idx;
  };
});

// –ö–Ω–æ–ø–∫–∞ Start: —Å–±—Ä–æ—Å –ø—Ä–æ—à–ª—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
document.getElementById('startBtn').onclick = () => {
  if (selectedRoom == null) {
    alert(translations[lang].pickRoomFirst);
    return;
  }
  document.querySelectorAll('.room').forEach(r => {
    r.classList.remove('found', 'safe');
  });
};

// –ö–Ω–æ–ø–∫–∞ Reset (üîç): –∑–∞–ø—É—Å–∫–∞–µ—Ç –æ—Ö–æ—Ç—É
document.getElementById('resetBtn').onclick = () => {
  if (selectedRoom == null) {
    alert(translations[lang].pickRoomFirst);
    return;
  }
  roundInProgress = true;
  const numPicks = (check1Expire > Date.now()) ? 1 : 2;
  let picks = [...Array(8).keys()].sort(() => 0.5 - Math.random()).slice(0, numPicks);
  document.querySelectorAll('.room').forEach(r => r.classList.remove('found', 'safe', 'highlight'));
  let delay = 0;
  picks.forEach(i => {
    let room = document.querySelector(`.room[data-idx="${i}"]`);
    setTimeout(() => { room.classList.add('highlight'); }, delay);
    setTimeout(() => { room.classList.remove('highlight'); }, delay + 600);
    delay += 700;
  });
  setTimeout(() => {
    let prize = 1000, loss = -2000;
    if (upgrades.x2Prize > 0) {
      prize *= Math.pow(2, upgrades.x2Prize);
      loss *= Math.pow(2, upgrades.x2Prize);
    }
    if (picks.includes(selectedRoom)) {
      const room = document.querySelector(`.room[data-idx="${selectedRoom}"]`);
      room.classList.add('found');
      updCoins(loss);
    } else {
      const room = document.querySelector(`.room[data-idx="${selectedRoom}"]`);
      room.classList.add('safe');
      updCoins(prize);
    }
    selectedRoom = null;
    document.querySelectorAll('.room').forEach(r => r.classList.remove('selected'));
    roundInProgress = false;
  }, delay + 700);
};

// –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –º–∞–≥–∞–∑–∏–Ω–∞ –º–∞–π–Ω–µ—Ä–æ–≤ (–∑–∞–ø–æ–ª–Ω—è–µ–º –∏ –º–æ–¥–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –∏ –≤–∏–¥–∏–º—É—é –ø–∞–Ω–µ–ª—å)
function renderMiners() {
  // modal
  if (minersContainer) minersContainer.innerHTML = "";
  // visible panel
  if (minersPanelVisible) minersPanelVisible.innerHTML = "";

  minersData.forEach((m, i) => {
    let st = minersState[i];
    let price = m.p * Math.pow(2, st.count);
    let income = st.count > 0 ? m.i * Math.pow(2, st.count - 1) : 0;

    function buildCard(forModal) {
      let card = document.createElement('div');
      card.className = 'miner-card';
      // –≤—Å—Ç–∞–≤–ª—è–µ–º –ª–æ–≥–æ—Ç–∏–ø –Ω–∞–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º –∏ –¥–µ–ª–∞–µ–º Profit/hr –±–µ—Ä–µ–∑–æ–≤—ã–º (CSS —É–ø—Ä–∞–≤–ª—è–µ—Ç —Ü–≤–µ—Ç–æ–º)
      if (forModal) {
        card.innerHTML = ''
          + '<img class="card-logo" src="logo.png" alt="logo" />'
          + '<h3>' + m.n + '</h3>'
          + '<div class="income">Profit/hr: <span class="income-val">+' + format(income) + '</span></div>'
          + '<div class="bottom"><span class="lvl">Lvl ' + st.count + '</span><span class="price">' + format(price) + '</span></div>';
      } else {
        card.innerHTML = ''
          + '<img class="card-logo" src="logo.png" alt="logo" />'
          + '<h3>' + m.n + '</h3>'
          + '<div class="income">Profit/hr: <span class="income-val">+' + format(income) + '</span></div>'
          + '<div class="bottom" style="display:flex;justify-content:space-between;width:100%;font-weight:700;font-size:14px;margin-top:6px;"><span class="lvl">Lvl ' + st.count + '</span><span class="price">' + format(price) + '</span></div>';
      }
      card.onclick = () => {
        if (coins >= price) {
          pendingMiner = i;
          const msg = (translations[lang].buyConfirm || translations[lang].buy).replace('{name}', m.n).replace('{price}', format(price));
          buyText.textContent = msg;
          buyConfirm.classList.add('show');
          buyConfirm.style.display = 'block';
          buyConfirm.setAttribute('aria-hidden', 'false');
        } else {
          alert(translations[lang].notEnoughCoins);
        }
      };
      return card;
    }

    if (minersPanelVisible) minersPanelVisible.appendChild(buildCard(false));
    if (minersContainer) minersContainer.appendChild(buildCard(true));
  });
}

// –û—Ç–∫—Ä—ã—Ç—å/–∑–∞–∫—Ä—ã—Ç—å –º–∞–π–Ω–∏–Ω–≥-—à–æ–ø (–º–æ–¥–∞–ª–∫–∞ —Ç–µ–ø–µ—Ä—å —Å –¥–∏–∑–∞–π–Ω–æ–º –∏–≥—Ä—ã)
document.getElementById('miningBtn').onclick = () => {
  miningShop.style.display = 'block';
  miningShop.setAttribute('aria-hidden', 'false');
  renderMiners(); // fill modal
};
document.getElementById('closeMiningShop').onclick = () => {
  miningShop.style.display = 'none';
  miningShop.setAttribute('aria-hidden', 'true');
};

// –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ/–æ—Ç–º–µ–Ω–∞ –ø–æ–∫—É–ø–∫–∏ –º–∞–π–Ω–µ—Ä–∞
document.getElementById('confirmBuy').onclick = () => {
  if (pendingMiner === null) return;
  let i = pendingMiner;
  let m = minersData[i];
  let st = minersState[i];
  let price = m.p * Math.pow(2, st.count);
  if (coins >= price) {
    coins -= price;
    st.count++;
    updCoins(0);
    save();
    renderMiners();
  } else {
    alert(translations[lang].notEnoughCoins);
  }
  pendingMiner = null;
  buyConfirm.classList.remove('show');
  buyConfirm.style.display = 'none';
  buyConfirm.setAttribute('aria-hidden', 'true');
};
document.getElementById('cancelBuy').onclick = () => {
  pendingMiner = null;
  buyConfirm.classList.remove('show');
  buyConfirm.style.display = 'none';
  buyConfirm.setAttribute('aria-hidden', 'true');
};

// –ü—Ä–æ—Ñ–∏–ª—å (Daily/Quest)
const profileWindowEl = document.getElementById('profileWindow');
document.getElementById('profileBtn').onclick = () => {
  profileWindowEl.style.display = 'block';
  profileWindowEl.setAttribute('aria-hidden', 'false');
};
document.getElementById('closeProfile').onclick = () => {
  profileWindowEl.style.display = 'none';
  profileWindowEl.setAttribute('aria-hidden', 'true');
};

let questClaimed = localStorage.getItem('questClaimed') === 'true';
let lastDaily = +localStorage.getItem('lastDaily') || 0;
const questStatusEl = document.getElementById('questStatus');
const dailyStatusEl = document.getElementById('dailyStatus');

function updateQuestStatus() {
  questStatusEl.textContent = questClaimed ? "‚úÖ Completed" : "‚ùå Not claimed";
}
function updateDailyStatus() {
  let now = Date.now();
  let nextAvailable = lastDaily + 24*60*60*1000;
  if (now >= nextAvailable) {
    dailyStatusEl.textContent = translations[lang].dailyAvailable;
  } else {
    let diff = nextAvailable - now;
    let hours = Math.floor(diff / (1000*60*60));
    let minutes = Math.floor((diff % (1000*60*60)) / (1000*60));
    const tmpl = translations[lang].nextIn || '{h}h {m}m';
    dailyStatusEl.textContent = tmpl.replace('{h}', hours).replace('{m}', minutes);
  }
}
setInterval(updateDailyStatus, 60000);
updateDailyStatus();
updateQuestStatus();

// –ö–Ω–æ–ø–∫–∏ Daily/Quest
document.getElementById('claimQuest').onclick = () => {
  if (questClaimed) {
    alert(translations[lang].questAlready);
  } else {
    updCoins(50000);
    questClaimed = true;
    localStorage.setItem('questClaimed', 'true');
    updateQuestStatus();
  }
};
document.getElementById('claimDaily').onclick = () => {
  let now = Date.now();
  if (now - lastDaily < 24*60*60*1000) {
    alert(translations[lang].dailyAlready);
  } else {
    updCoins(30000);
    lastDaily = now;
    localStorage.setItem('lastDaily', now);
    updateDailyStatus();
  }
};

// –ö–Ω–æ–ø–∫–∏ Info –∏ Shop
document.getElementById('infoBtn').onclick = () => {
  document.getElementById('infoWindow').style.display = 'block';
  document.getElementById('infoWindow').setAttribute('aria-hidden', 'false');
};
document.getElementById('closeInfo').onclick = () => {
  document.getElementById('infoWindow').style.display = 'none';
  document.getElementById('infoWindow').setAttribute('aria-hidden', 'true');
};

// Shop button behavior: toggle miners / upgrades
const shopBtn = document.getElementById('shopBtn');
const upgradePanel = document.getElementById('upgradePanel');

shopBtn.onclick = () => {
  const minersVisible = getComputedStyle(minersPanelVisible).display !== 'none';
  if (minersVisible) {
    minersPanelVisible.style.display = 'none';
    upgradePanel.style.display = 'flex';
    updUpg();
  } else {
    minersPanelVisible.style.display = 'flex';
    upgradePanel.style.display = 'none';
    renderMiners();
  }
};

// Settings open/close and language selection
const settingsWindowEl = document.getElementById('settingsWindow');
document.getElementById('settingsBtn').onclick = () => {
  settingsWindowEl.style.display = 'block';
  settingsWindowEl.setAttribute('aria-hidden', 'false');
};
document.getElementById('closeSettings').onclick = () => {
  settingsWindowEl.style.display = 'none';
  settingsWindowEl.setAttribute('aria-hidden', 'true');
};

// lang option clicks
document.getElementById('langRu').onclick = () => setLang('ru');
document.getElementById('langEn').onclick = () => setLang('en');

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è UI
coinsVal.textContent = format(coins);
updLv();
updUpg();
updIncome();
updCheck();
renderMiners();

// set active language UI on load
setLang(lang);

// Ensure windows hidden on load
document.getElementById('infoWindow').style.display = 'none';
document.getElementById('infoWindow').setAttribute('aria-hidden', 'true');
document.getElementById('profileWindow').style.display = 'none';
document.getElementById('profileWindow').setAttribute('aria-hidden', 'true');
buyConfirm.style.display = 'none';
buyConfirm.setAttribute('aria-hidden', 'true');
settingsWindowEl.style.display = 'none';
settingsWindowEl.setAttribute('aria-hidden', 'true');
</script>
</body>
</html>
