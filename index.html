<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Hide & Seek ‚Äî Premium Emoji (Updated)</title>
  <style>
    :root {
      --accent-cyan: #00d8ff;
      --accent-purple: #9d4edd;
      --accent-pink: #ff4ecd;
      --bg-dark: #0a0a0f;
      --text-light: #fff;
      --win: #32ff7e;
      --lose: #ff4d4d;
    }

    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: var(--bg-dark);
      color: var(--text-light);
      overflow-x: hidden;
      user-select: none;
      -webkit-user-drag: none;
    }

    header {
      text-align: center;
      padding: 10px;
      font-size: 1.5em;
      color: var(--accent-cyan);
      font-weight: bold;
    }

    /* –ù–∏–∂–Ω–µ–µ –º–µ–Ω—é */
    nav {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: #111;
      display: flex;
      justify-content: space-around;
      padding: 10px 0;
      border-top: 2px solid var(--accent-purple);
    }

    nav button {
      background: none;
      border: none;
      font-size: 1.5em;
      color: var(--accent-cyan);
      cursor: pointer;
      transition: transform 0.2s;
    }

    nav button:hover {
      transform: scale(1.2);
      color: var(--accent-pink);
    }

    /* –û–∫–Ω–æ –∫–æ–ª–µ—Å–∞ */
    #wheelModal {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.85);
      z-index: 1000;
      align-items: center;
      justify-content: center;
      flex-direction: column;
    }

    #wheelContainer {
      position: relative;
      width: 300px;
      height: 300px;
    }

    #wheel {
      width: 100%;
      height: 100%;
      border-radius: 50%;
      border: 8px solid var(--accent-purple);
      box-shadow: 0 0 20px var(--accent-purple);
      transition: transform 4s cubic-bezier(.17,.67,.83,.67);
    }

    #pointer {
      position: absolute;
      top: -20px;
      left: 50%;
      transform: translateX(-50%);
      width: 0; height: 0;
      border-left: 20px solid transparent;
      border-right: 20px solid transparent;
      border-bottom: 30px solid var(--accent-cyan);
      filter: drop-shadow(0 0 5px var(--accent-cyan));
    }

    #spinBtn {
      margin-top: 20px;
      padding: 10px 20px;
      font-size: 1.2em;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      background: var(--accent-pink);
      color: #fff;
      box-shadow: 0 0 10px var(--accent-pink);
      transition: 0.3s;
    }

    #spinBtn:disabled {
      background: #444;
      color: #999;
      box-shadow: none;
      cursor: not-allowed;
    }

    #closeWheel {
      margin-top: 15px;
      background: none;
      border: none;
      font-size: 1.2em;
      color: var(--accent-cyan);
      cursor: pointer;
    }

    #rewardMessage {
      margin-top: 10px;
      font-weight: bold;
      font-size: 1.2em;
      color: var(--win);
      text-align: center;
    }
  </style>
</head>
<body>
  <header>üéÆ Hide & Seek</header>

  <!-- –ö–æ–ª–µ—Å–æ —É–¥–∞—á–∏ -->
  <div id="wheelModal">
    <div id="wheelContainer">
      <canvas id="wheel"></canvas>
      <div id="pointer"></div>
    </div>
    <button id="spinBtn">–ö—Ä—É—Ç–∏—Ç—å (20000üí∞)</button>
    <div id="rewardMessage"></div>
    <button id="closeWheel">–ó–∞–∫—Ä—ã—Ç—å</button>
  </div>

  <!-- –ù–∏–∂–Ω–µ–µ –º–µ–Ω—é -->
  <nav>
    <button>‚Ñπ</button>
    <button>üõí</button>
    <button>‚õè</button>
    <button>üë§</button>
    <button id="openWheel">üé°</button>
  </nav>

  <script>
    const wheelCanvas = document.getElementById("wheel");
    const ctx = wheelCanvas.getContext("2d");
    const spinBtn = document.getElementById("spinBtn");
    const rewardMsg = document.getElementById("rewardMessage");

    let sectors = [
      { label: "10000üí∞", type: "coins", value: 10000 },
      { label: "50000üí∞", type: "coins", value: 50000 },
      { label: "1üîë", type: "keys", value: 1 },
      { label: "3üîë", type: "keys", value: 3 },
      { label: "√ó2 –¥–æ—Ö–æ–¥ (5–º)", type: "boost", value: "double" },
      { label: "Check 1 Room (5–º)", type: "boost", value: "room" },
      { label: "‚ùå –ù–∏—á–µ–≥–æ", type: "none", value: 0 },
      { label: "5000üí∞", type: "coins", value: 5000 }
    ];

    let spinCost = parseFloat(localStorage.getItem("spinCost")) || 20000;
    let lastSpin = parseInt(localStorage.getItem("lastSpin")) || 0;

    let multiplier = parseFloat(localStorage.getItem("rewardMult")) || 1;

    const sectorCount = sectors.length;
    const arc = 2 * Math.PI / sectorCount;
    wheelCanvas.width = 300;
    wheelCanvas.height = 300;

    function drawWheel() {
      for (let i = 0; i < sectorCount; i++) {
        const angle = i * arc;
        ctx.beginPath();
        ctx.fillStyle = i % 2 ? "#1e1e3f" : "#2d2d5f";
        ctx.moveTo(150, 150);
        ctx.arc(150, 150, 150, angle, angle + arc);
        ctx.lineTo(150, 150);
        ctx.fill();

        ctx.save();
        ctx.translate(150, 150);
        ctx.rotate(angle + arc / 2);
        ctx.textAlign = "right";
        ctx.fillStyle = "#fff";
        ctx.font = "14px Arial";
        ctx.fillText(sectors[i].label, 140, 5);
        ctx.restore();
      }
    }

    drawWheel();

    let rotation = 0;
    let spinning = false;

    function spinWheel() {
      if (spinning) return;
      const now = Date.now();
      if (now - lastSpin < 3600000) {
        const left = Math.ceil((3600000 - (now - lastSpin)) / 60000);
        rewardMsg.style.color = "orange";
        rewardMsg.textContent = "‚è≥ –ü–æ–ø—Ä–æ–±—É–π —á–µ—Ä–µ–∑ " + left + " –º–∏–Ω.";
        return;
      }

      if (playerCoins < spinCost) {
        rewardMsg.style.color = "var(--lose)";
        rewardMsg.textContent = "–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–æ–Ω–µ—Ç!";
        return;
      }

      playerCoins -= spinCost;
      localStorage.setItem("playerCoins", playerCoins);

      spinCost = Math.floor(spinCost * 1.7);
      localStorage.setItem("spinCost", spinCost);

      spinBtn.textContent = `–ö—Ä—É—Ç–∏—Ç—å (${spinCost}üí∞)`;

      spinning = true;
      const extra = Math.random() * 360;
      const spins = 360 * 5 + extra;
      rotation += spins;

      wheelCanvas.style.transition = "transform 4s cubic-bezier(.17,.67,.83,.67)";
      wheelCanvas.style.transform = `rotate(${rotation}deg)`;

      setTimeout(() => {
        wheelCanvas.style.transition = "none";
        const degrees = rotation % 360;
        const index = sectorCount - 1 - Math.floor(degrees / (360 / sectorCount));
        const result = sectors[index];

        rewardMsg.style.color = "var(--win)";
        if (result.type === "coins") {
          const prize = Math.floor(result.value * multiplier);
          playerCoins += prize;
          rewardMsg.textContent = `üéâ –¢—ã –≤—ã–∏–≥—Ä–∞–ª ${prize} –º–æ–Ω–µ—Ç!`;
        } else if (result.type === "keys") {
          rewardMsg.textContent = `üîë –¢—ã –ø–æ–ª—É—á–∏–ª ${result.value} –∫–ª—é—á(–µ–π)!`;
        } else if (result.type === "boost") {
          rewardMsg.textContent = `‚ö° –ë–æ–Ω—É—Å –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω: ${result.label}`;
        } else {
          rewardMsg.style.color = "var(--lose)";
          rewardMsg.textContent = "üò¢ –ù–∏—á–µ–≥–æ –Ω–µ –≤—ã–ø–∞–ª–æ";
        }

        multiplier *= 1.7;
        localStorage.setItem("rewardMult", multiplier);

        lastSpin = Date.now();
        localStorage.setItem("lastSpin", lastSpin);

        spinning = false;
      }, 4200);
    }

    document.getElementById("openWheel").onclick = () => {
      document.getElementById("wheelModal").style.display = "flex";
      spinBtn.textContent = `–ö—Ä—É—Ç–∏—Ç—å (${spinCost}üí∞)`;
      rewardMsg.textContent = "";
    };

    document.getElementById("closeWheel").onclick = () => {
      document.getElementById("wheelModal").style.display = "none";
    };

    spinBtn.onclick = spinWheel;

    // –ú–æ–Ω–µ—Ç—ã –∏–≥—Ä–æ–∫–∞ (–¥–ª—è –ø—Ä–∏–º–µ—Ä–∞)
    let playerCoins = parseInt(localStorage.getItem("playerCoins")) || 50000;
  </script>
</body>
</html>
